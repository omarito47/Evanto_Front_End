<!-- src/app/product/product.component.html -->
<div class="container mt-5">
  <h2 class="mb-4">{{ id ? "Update Product" : "Add Product" }}</h2>

  <form [formGroup]="product" (ngSubmit)="submitForm()">
    <div class="form-row">
      <div class="col-md-4 form-group">
        <label for="title">Title:</label>
        <input
          type="text"
          id="title"
          class="form-control"
          formControlName="title"
        />
      </div>
      <div class="form-group">
        <label for="description">Description:</label>
        <textarea
          id="description"
          class="form-control"
          formControlName="description"
        ></textarea>
      </div>

      <div class="col-md-4 form-group">
        <label for="price">Price:</label>
        <input
          type="number"
          id="price"
          class="form-control"
          formControlName="price"
        />
      </div>
    </div>
    <div class="form-row">
      <div class="col-md-4 form-group">
        <label for="quantity">Quantity:</label>
        <input
          type="number"
          id="quantity"
          class="form-control"
          formControlName="quantity"
        />
      </div>
      <div class="col-md-4 form-group">
        <label for="category">Category:</label>
        <select id="category" class="form-control" formControlName="category">
          <option
            *ngFor="let category of listCategories"
            [value]="category._id"
          >
            {{ category.name }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label for="images">Images:</label>
      <div class="file-upload">
        <input
          type="file"
          #fileInput
          (change)="onFileSelected($event)"
          style="display: none"
        />
        <img
          *ngIf="currentImageUrl"
          [src]="currentImageUrl"
          alt="Upload"
          class="upload-image"
          (click)="fileInput.click()"
        />
        <img
          *ngIf="!currentImageUrl"
          src="assets/category_img.png"
          alt="Upload"
          class="upload-image"
          (click)="fileInput.click()"
        />
      </div>
    </div>

    <button type="submit" class="btn btn-primary">
      {{ id ? "Update" : "Add" }}
    </button>
    <a *ngIf="id" class="btn btn-secondary ml-2" [routerLink]="['/product']"
      >Cancel</a
    >
  </form>
</div>
